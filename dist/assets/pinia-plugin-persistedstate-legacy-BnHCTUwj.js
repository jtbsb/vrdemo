System.register(["./destr-legacy-D6SgLlvW.js","./deep-pick-omit-legacy-CNiD_8SA.js"],(function(e,t){"use strict";var r,i,s;return{setters:[e=>{r=e.d},e=>{i=e.d,s=e.a}],execute:function(){function t(e,{storage:t,serializer:r,key:a,debug:o,pick:n,omit:c,beforeHydrate:d,afterHydrate:u},y,f=!0){try{f&&d?.(y);const o=t.getItem(a);if(o){const t=r.deserialize(o),a=n?i(t,n):t,d=c?s(a,c):a;e.$patch(d)}f&&u?.(y)}catch(l){o&&console.error("[pinia-plugin-persistedstate]",l)}}function a(e,{storage:t,serializer:r,key:a,debug:o,pick:n,omit:c}){try{const o=n?i(e,n):e,d=c?s(o,c):o,u=r.serialize(d);t.setItem(a,u)}catch(d){o&&console.error("[pinia-plugin-persistedstate]",d)}}e("s",function(e={}){return function(i){!function(e,r,i){const{pinia:s,store:o,options:{persist:n=i}}=e;if(!n)return;if(!(o.$id in s.state.value)){const e=s._s.get(o.$id.replace("__hot:",""));return void(e&&Promise.resolve().then((()=>e.$persist())))}const c=(Array.isArray(n)?n:!0===n?[{}]:[n]).map(r);o.$hydrate=({runHooks:r=!0}={})=>{c.forEach((i=>{t(o,i,e,r)}))},o.$persist=()=>{c.forEach((e=>{a(o.$state,e)}))},c.forEach((r=>{t(o,r,e),o.$subscribe(((e,t)=>a(t,r)),{detached:!0})}))}(i,(t=>({key:(e.key?e.key:e=>e)(t.key??i.store.$id),debug:t.debug??e.debug??!1,serializer:t.serializer??e.serializer??{serialize:e=>JSON.stringify(e),deserialize:e=>r(e)},storage:t.storage??e.storage??window.localStorage,beforeHydrate:t.beforeHydrate,afterHydrate:t.afterHydrate,pick:t.pick,omit:t.omit})),e.auto??!1)}}())}}}));//# sourceMappingURL=pinia-plugin-persistedstate-legacy-BnHCTUwj.js.map
